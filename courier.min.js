!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}("Courier",this,function(){function t(n){return"string"==typeof n&&n?e[n]?e[n]:this instanceof t?(e[n]=this,this.name=n,this.routes={},void 0):t.train(n):null}var e={};return t.couriers=e,t.train=function(n){return e[n]||(e[n]=new t(n)),e[n]},t.hire=function(t){return e[t]||null},t.prototype={schedule:function(t,e,n){return t?(this.routes[t]||(this.routes[t]=[]),e&&this.routes[t].push({method:e,context:n||null}),this):this},cancel:function(t,e,n){if(!t||!this.routes[t])return this;n||(n=null);for(var r=this.routes[t],i=r.length,o=i-1;o>=0;o--)if(!e||r[o].method===e&&r[o].context===n)return r.splice(o,1),this;return this},deliver:function(t){if(!t||!this.routes[t])return this;for(var e=Array.prototype.slice.call(arguments,1),n=this.routes[t],r=0;r<n.length;r++)n[r].method.apply(n[r].context,e);return this}},t});